{"ast":null,"code":"import _regeneratorRuntime from\"/Users/judyzhang/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/judyzhang/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/judyzhang/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import ReactDOM from'react-dom';import App from'./App';import Contact from'./Components/Options/Contact';import AboutMe from'./Components/Options/AboutMe';import*as serviceWorker from'./serviceWorker';import{HashRouter as Router,Switch,Route}from'react-router-dom';import axios from\"axios\";import\"react-image-gallery/styles/css/image-gallery.css\";import ImageGallery from\"react-image-gallery\";ReactDOM.render(/*#__PURE__*/React.createElement(React.StrictMode,null,/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(App,null))),document.getElementById('root'));// START\nfunction getAlbum(_x){return _getAlbum.apply(this,arguments);}function _getAlbum(){_getAlbum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://photos.app.goo.gl/\".concat(id));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getAlbum.apply(this,arguments);}var regex=/\\[\"(https:\\/\\/lh3\\.googleusercontent\\.com\\/[a-zA-Z0-9\\-_]*)\"/g;// the only difference is the [ at the beginning\nfunction extractPhotos(content){var links=new Set();var match;while(match=regex.exec(content)){links.add(match[1]);}return Array.from(links);}var ImagesGallery=function ImagesGallery(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),images=_React$useState2[0],setImages=_React$useState2[1];React.useEffect(function(){var shouldCancel=false;var call=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://google-photos-album-demo.glitch.me/4eXXxxG3rYwQVf948');case 2:response=_context.sent;if(!shouldCancel&&response.data&&response.data.length>0){setImages(response.data.map(function(url){return{original:\"\".concat(url,\"=w1024\"),thumbnail:\"\".concat(url,\"=w100\")};}));}case 4:case\"end\":return _context.stop();}}},_callee);}));return function call(){return _ref.apply(this,arguments);};}();call();return function(){return shouldCancel=true;};},[]);return images?/*#__PURE__*/React.createElement(ImageGallery,{items:images}):null;};export default ImagesGallery;// END\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","map":{"version":3,"sources":["/Users/judyzhang/mywebsite/src/index.js"],"names":["React","ReactDOM","App","Contact","AboutMe","serviceWorker","HashRouter","Router","Switch","Route","axios","ImageGallery","render","document","getElementById","getAlbum","id","get","response","data","regex","extractPhotos","content","links","Set","match","exec","add","Array","from","ImagesGallery","useState","images","setImages","useEffect","shouldCancel","call","length","map","url","original","thumbnail","unregister"],"mappings":"gbAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAO,GAAKC,CAAAA,aAAZ,KAA+B,iBAA/B,CACA,OAASC,UAAU,GAAIC,CAAAA,MAAvB,CAA+BC,MAA/B,CAAuCC,KAAvC,KAAoD,kBAApD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kDAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CAEAV,QAAQ,CAACW,MAAT,cACE,oBAAC,KAAD,CAAO,UAAP,mBACE,oBAAC,MAAD,mBACA,oBAAC,GAAD,MADA,CADF,CADF,CAMEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CANF,EASA;QACeC,CAAAA,Q,oIAAf,kBAAwBC,EAAxB,0JACyBN,CAAAA,KAAK,CAACO,GAAN,qCAAuCD,EAAvC,EADzB,QACQE,QADR,iDAESA,QAAQ,CAACC,IAFlB,0D,2CAKC,GAAMC,CAAAA,KAAK,CAAG,+DAAd,CAA8E;AAC9E,QAASC,CAAAA,aAAT,CAAuBC,OAAvB,CAAgC,CAC9B,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,GAAJ,EAAd,CACA,GAAIC,CAAAA,KAAJ,CACA,MAAOA,KAAK,CAAGL,KAAK,CAACM,IAAN,CAAWJ,OAAX,CAAf,CAAoC,CAClCC,KAAK,CAACI,GAAN,CAAUF,KAAK,CAAC,CAAD,CAAf,EACD,CACD,MAAOG,CAAAA,KAAK,CAACC,IAAN,CAAWN,KAAX,CAAP,CACD,CAED,GAAMO,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,qBACC9B,KAAK,CAAC+B,QAAN,CAAe,IAAf,CADD,oDACpBC,MADoB,qBACZC,SADY,qBAE3BjC,KAAK,CAACkC,SAAN,CAAgB,UAAM,CACpB,GAAIC,CAAAA,YAAY,CAAG,KAAnB,CACA,GAAMC,CAAAA,IAAI,0FAAG,sKACY1B,CAAAA,KAAK,CAACO,GAAN,CACrB,8DADqB,CADZ,QACLC,QADK,eAIX,GAAI,CAACiB,YAAD,EAAiBjB,QAAQ,CAACC,IAA1B,EAAkCD,QAAQ,CAACC,IAAT,CAAckB,MAAd,CAAuB,CAA7D,CAAgE,CAC9DJ,SAAS,CAACf,QAAQ,CAACC,IAAT,CAAcmB,GAAd,CAAkB,SAAAC,GAAG,QAAK,CAClCC,QAAQ,WAAKD,GAAL,UAD0B,CAElCE,SAAS,WAAKF,GAAL,SAFyB,CAAL,EAArB,CAAD,CAAT,CAID,CATU,sDAAH,kBAAJH,CAAAA,IAAI,0CAAV,CAWAA,IAAI,GACJ,MAAO,kBAAMD,CAAAA,YAAY,CAAG,IAArB,EAAP,CACD,CAfD,CAeG,EAfH,EAgBA,MAAOH,CAAAA,MAAM,cAAG,oBAAC,YAAD,EAAc,KAAK,CAAEA,MAArB,EAAH,CAAqC,IAAlD,CACD,CAnBA,CAoBD,cAAeF,CAAAA,aAAf,CACA;AAEA;AACA;AACA;AACAzB,aAAa,CAACqC,UAAd","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Contact from './Components/Options/Contact';\nimport AboutMe from './Components/Options/AboutMe';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport axios from \"axios\";\nimport \"react-image-gallery/styles/css/image-gallery.css\";\nimport ImageGallery from \"react-image-gallery\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n    <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// START\nasync function getAlbum(id) {\n  const response = await axios.get(`https://photos.app.goo.gl/${id}`)\n  return response.data \n }\n\n const regex = /\\[\"(https:\\/\\/lh3\\.googleusercontent\\.com\\/[a-zA-Z0-9\\-_]*)\"/g // the only difference is the [ at the beginning\n function extractPhotos(content) {\n   const links = new Set()\n   let match\n   while (match = regex.exec(content)) {\n     links.add(match[1])\n   } \n   return Array.from(links)\n }\n\n const ImagesGallery = () => {\n  const [images, setImages] = React.useState(null)\n  React.useEffect(() => {\n    let shouldCancel = false\n    const call = async () => {\n      const response = await axios.get(\n        'https://google-photos-album-demo.glitch.me/4eXXxxG3rYwQVf948'\n      );\n      if (!shouldCancel && response.data && response.data.length > 0) {\n        setImages(response.data.map(url => ({\n          original: `${url}=w1024`,\n          thumbnail: `${url}=w100`\n        })))\n      }\n    }\n    call()\n    return () => shouldCancel = true\n  }, [])\n  return images ? <ImageGallery items={images} /> : null\n}\nexport default ImagesGallery\n// END\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}